!function(u,F){"object"==typeof exports&&"undefined"!=typeof module?module.exports=F(require("pixi.js")):"function"==typeof define&&define.amd?define(["pixi.js"],F):(u||self).TaggedText=F(u.PIXI)}(this,function(u){function F(u){if(u&&u.__esModule)return u;var F=Object.create(null);return u&&Object.keys(u).forEach(function(t){if("default"!==t){var e=Object.getOwnPropertyDescriptor(u,t);Object.defineProperty(F,t,e.get?e:{enumerable:!0,get:function(){return u[t]}})}}),F.default=u,F}var t=/*#__PURE__*/F(u);function e(u,F){for(var t=0;t<F.length;t++){var e=F[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(u,e.key,e)}}function n(){return n=Object.assign||function(u){for(var F=1;F<arguments.length;F++){var t=arguments[F];for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(u[e]=t[e])}return u},n.apply(this,arguments)}function r(u,F){return r=Object.setPrototypeOf||function(u,F){return u.__proto__=F,u},r(u,F)}function i(u,F){(null==F||F>u.length)&&(F=u.length);for(var t=0,e=new Array(F);t<F;t++)e[t]=u[t];return e}function o(u,F){var t="undefined"!=typeof Symbol&&u[Symbol.iterator]||u["@@iterator"];if(t)return(t=t.call(u)).next.bind(t);if(Array.isArray(u)||(t=function(u,F){if(u){if("string"==typeof u)return i(u,F);var t=Object.prototype.toString.call(u).slice(8,-1);return"Object"===t&&u.constructor&&(t=u.constructor.name),"Map"===t||"Set"===t?Array.from(u):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?i(u,F):void 0}}(u))||F&&u&&"number"==typeof u.length){t&&(u=t);var e=0;return function(){return e>=u.length?{done:!0}:{done:!1,value:u[e++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=function(u,F){return n({},u,F)},l=function(u){return u[u.length-1]},D=function(u){return void 0!==u},E=function(u,F){return function(t){return[t].flat(255).reduce(u,F)}},c=function(u){return E(function(F,t){return F&&u(t)},!0)},d=function(u,F,t){return void 0===F&&(F=!1),function(e,n){!0!==F&&(0,console.warn)("["+e+"] "+n),u&&u({target:t,code:e,message:n,type:"warning"})}},B=function(u){return"string"==typeof u||u instanceof t.Texture||u instanceof HTMLCanvasElement||u instanceof HTMLVideoElement};!function(u){u.default="px",u.px="px",u.em="em",u.rem="rem",u.pt="pt",u.pc="pc",u.in="in",u.cm="cm",u.mm="mm",u.percent="%",u.unknown="unknown"}(a||(a={}));var C,h,f,p,A=a.default,g=function(){return{content:"",bounds:new t.Rectangle,fontProperties:{ascent:0,descent:0,fontSize:0},style:{},tags:"",textDecorations:[]}},v=function(u){return""!==u&&u.split("").every(function(u){return 0===u.search(/\s/)})},y=c(function(u){return u.content instanceof t.Sprite}),w=function(u){return"string"==typeof u.content},b=c(w),m=c(function(u){return void 0!==u&&w(u)&&v(u.content)}),x=function(u){return void 0!==u&&w(u)&&v(F=u.content)&&"\n"===F;var F},S=function(u){return void 0!==u&&c(x)(u)},_=(C=m,function(u){return!C(u)}),T=function(u){return u instanceof Object&&0===Object.keys(u).length},k=function(u){if(void 0===u)throw new Error("value is undefined!");if("number"==typeof u)return{value:u,unit:A};u=u.trim();var F=new RegExp(Object.values(a).join("|")+"$"),t=u.search(F);if(-1!==t)return{value:parseFloat(u.slice(0,t)),unit:u.slice(t)};if(0===u.search(/^[\d.]+$/)){var e=parseFloat(u);if(!1===isNaN(e))return{value:parseFloat(u),unit:A}}return d()("invalid-units",u+" is not a valid measurement value. Please use one of the following units: "+Object.keys(a).join(", ")),{value:NaN,unit:a.unknown}},N=d(),j=function(u){void 0===u&&(u=["\\w+"]);var F=u.join("|"),t=function(u){return"("+u+")"},e=function(u){return"(?:"+u+")"},n=e("\"|'"),r="[^"+n+"]",i=t(F),o=r+"+",a=t(e("\\s+"+e("[A-Za-z0-9_\\-]+")+"="+n+e(o)+n)+"*")+"+";return new RegExp("<"+i+a+"\\s*>|</"+i+"\\s*>","g")},O=function(u){if(void 0===u&&(u=""),""===u)return{};var F=u.trim().match(/[a-zA-Z][a-zA-Z0-9]*=('|")[^'"]*('|")/g);if(null===F)throw new Error('Invalid attributes string: "'+u+'"');return[].concat(F).reduce(function(u,F){var t=F.split("="),e=t[0].trim(),n=t[1].substring(1,t[1].length-1).trim();return u[e]=n,u},{})},M=function(u){var F=u[1],t=u.index;return{tag:u[0],tagName:null!=F?F:u[3],isOpening:void 0!==F,attributes:O(u[2]),index:t}},I=(h=function(u){return"("+u+")"},f=function(u){return u+"*"},new RegExp("<"+h("[A-Za-z_]"+f("[A-Za-z0-9_]"))+h(f(function(){return"[^"+[].slice.call(arguments).join("")+"]"}("/",">")))+"/>","g")),P=function(u){return n({tag:u.tagName,children:[]},T(u.attributes)?{}:{attributes:u.attributes})},z=function(u){for(var F=u.split(" "),t="",e=0;e<F.length;e++)t+=""+F[e].charAt(0).toUpperCase()+F[e].substr(1)+" ";return t.trim()},U=function(u){return t.TextMetrics.measureFont(u.font)},W=function(u,F){if(void 0===F&&(F=!1),F)return u.updateText(!1),U(u.context);var t,e=U(u.context),n=null!=(t=u.style.fontSize)?t:NaN;if(10===e.ascent&&3===e.descent&&(isNaN(Number(n))||n>13))throw new Error("getFontPropertiesOfText() returned metrics associated with a Text field that has not been updated yet. Please try using the forceUpdate parameter when you call this function.");return U(u.context)},L=((p={valign:"baseline",dropShadowColor:0,fill:0,fontSize:26,stroke:0}).imgDisplay="inline",p.wordWrap=!0,p.wordWrapWidth=500,p),R=s,H=function(u){return u.filter(D).reduce(R,{})},G=function(u,F,t){void 0===t&&(t={});var e=function(u,F){if(void 0===u&&(u={}),void 0===F&&(F={}),!T(F)||!T(u))return s(F,function(u){var F,t,e,n={};for(var r in u){var i=u[r],o="string"==typeof i&&(e=void 0,null!=(t=0===(null==(F=i)||null==(e=F.trim())?void 0:e.search(/^-?[0-9]*\.?[0-9]+$/)))&&t);n[r]=o?parseFloat(i):i}return n}(u))}(t,F[u]);if(e!={})return e},V=function(u){if(void 0!==u)switch(u){case"justify":case"justify-left":case"justify-all":return"left";case"justify-center":return"center";case"justify-right":return"right";default:return u}},Z=new t.Text(""),$=function(u,F){return void 0===F&&(F={x:0,y:0}),new t.Rectangle(F.x+u.x,F.y+u.y,u.width,u.height)},J=function(u){return function(F){return F.map(function(u){return function(F){return n({},F,{x:F.x+u.x,y:F.y+u.y})}}(u))}},X=function(u){var F=u[0],t=l(u);return void 0===F?0:t===F?F.width:t.x+t.width-F.x},Y=function(u){return function(F){var t;return n({},F,((t={}).x=u,t))}},q=function(u){return function(F){var t;return F.map(function(F){return void 0===t?(F.bounds.x=u,t=F.bounds):(F.bounds.x=t.x+t.width,t=F.bounds),F})}},K=function(u,F){if(void 0===u&&(u={x:NaN,y:NaN,width:NaN,height:NaN}),void 0===F&&(F={x:NaN,y:NaN,width:NaN,height:NaN}),isNaN(u.x))return F;var t=Math.min(u.x,F.x),e=Math.min(u.y,F.y);return{x:t,y:e,width:Math.max(u.x+u.width,F.x+F.width)-t,height:Math.max(u.y+u.height,F.y+F.height)-e}},Q=E(function(u,F){return K(u,F.bounds)},{x:NaN,y:NaN,width:NaN,height:NaN}),uu=function(u){return u.reduce(function(u,F,t){return 0===t?[Y(0)(F)]:u.concat([Y(u[t-1].x+u[t-1].width)(F)])},[])},Fu=function(u){return function(F){return J({x:u-X(F),y:0})(uu(F))}},tu=function(u){return function(F){return J({x:(t=X(F),e=u,(e-t)/2),y:0})(uu(F));var t,e}},eu=function(u){return function(F){if(0===F.length)return[];var t=F.filter(function(u){return u.width>0}),e=t.length;if(1===e){var r=F[0],i=F.slice(1);return r.x=0,[r].concat(i)}for(var o,a=[],s=function(u){return u.reduce(K,{x:NaN,y:NaN,width:NaN,height:NaN})}(t),l=(u-s.width)/(e-1),D=0;D<F.length;D++){var E=F[D];if(0!==E.width){var c;if(c=void 0===o?0:o.x+o.width+l,isNaN(c))throw new Error("Something went wrong with the justified layout calculation. x is NaN.");var d=Y(c)(E);o=d,a[D]=d}else a[D]=n({},E)}return a}},nu=function(u){return E(function(u,F){var t,e,n=null!=(t=F.bounds.height)?t:0;return y(F)&&(n+=F.fontProperties.descent),n>(null!=(e=null==u?void 0:u.bounds.height)?e:0)?F:u},g())(u)},ru=function(u){return""!==u},iu=function(u){return u.replace(/\s/g,"_ðŸ”ª_$&_ðŸ”ª_").split("_ðŸ”ª_").filter(function(u){return""!==u})},ou={debug:!1,debugConsole:!1,splitStyle:"words",imgMap:{},scaleIcons:!0,skipUpdates:!1,skipDraw:!1,drawWhitespace:!1,wrapEmoji:!0,errorHandler:void 0,supressConsole:!1},au=16776960,su={fontFamily:"courier",fontSize:10,fill:16777215,dropShadow:!0},lu={default:L};Object.freeze(lu),Object.freeze(L);var Du={children:!0,texture:!0},Eu=/*#__PURE__*/function(u){var F,i;i=u,(F=C).prototype=Object.create(i.prototype),F.prototype.constructor=F,r(F,i);var s,D,E,c=C.prototype;function C(F,e,r,i){var o;void 0===F&&(F=""),void 0===e&&(e={}),void 0===r&&(r={}),(o=u.call(this,i)||this)._options=void 0,o._needsUpdate=!0,o._needsDraw=!0,o._tokens=[],o._text="",o._tagStyles={},o._textFields=[],o._sprites=[],o._decorations=[],o._spriteTemplates={},o._debugGraphics=void 0,o._textContainer=void 0,o._decorationContainer=void 0,o._spriteContainer=void 0,o._debugContainer=void 0,o.logWarning=function(u,F){return d(o.options.errorHandler,o.options.supressConsole,function(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(o))(u,F)},o._textContainer=new t.Container,o._spriteContainer=new t.Container,o._decorationContainer=new t.Container,o._debugContainer=new t.Container,o._debugGraphics=new t.Graphics,o.resetChildren();var a=n({},ou,r);o._options=a,e=n({default:{}},e),o.options.wrapEmoji&&(e.__EMOJI__={fontFamily:"sans-serif"});var s=n({},L,e.default);return e.default=s,o.tagStyles=e,o.options.imgMap&&o.createSpriteTemplatesFromSourceMap(o.options.imgMap),o.text=F,o}return c.setText=function(u,F){u===this._text&&!1===this._needsUpdate||(this._text=u,this._needsUpdate=!0,this.updateIfShould(F))},c.setTagStyles=function(u,F){var t=this;Object.entries(u).forEach(function(u){return t.setStyleForTag(u[0],u[1],!0)}),this._needsUpdate=!0,this.updateIfShould(F)},c.getStyleForTag=function(u,F){return void 0===F&&(F={}),G(u,this.tagStyles,F)},c.getStyleForTags=function(u){var F=this,t=u.map(function(u){return F.getStyleForTag(u.tagName,u.attributes)});return H(t)},c.setStyleForTag=function(u,F,t){return this.tagStyles[u]=F,"default"===u&&this.defaultStyle.imgSrc&&(this.logWarning("imgSrc-on-default",'Style "imgSrc" can not be set on the "default" style because it will add images to EVERY tag!'),this.defaultStyle.imgSrc=void 0),this._needsUpdate=!0,this.updateIfShould(t),!0},c.removeStylesForTag=function(u,F){return u in this.tagStyles&&(delete this.tagStyles[u],this._needsUpdate=!0,this.updateIfShould(F),!0)},c.setDefaultStyle=function(u,F){this.setStyleForTag("default",u,F)},c.destroyImgMap=function(){if(this.destroyed)throw new Error("destroyImgMap() was called after this object was already destroyed. You must call destroyImgMap() before destroy() because imgMap is cleared when the object is destroyed.");this._spriteContainer.destroy({children:!0,texture:!0,baseTexture:!0})},c.destroy=function(F){var t;"boolean"==typeof F&&(F={children:F}),t=n({},Du,F),this._spriteContainer.destroy(!1),u.prototype.destroy.call(this,t),this._textFields=[],this._sprites=[],this._decorations=[],this._spriteTemplates={},this._tokens=[],this._tagStyles={},this._options.imgMap={},this._options.skipUpdates=!0,this._options.skipDraw=!0,this._options={}},c.resetChildren=function(){this._textContainer&&(this._textContainer.removeChildren(),this.removeChild(this._textContainer)),this._textContainer=new t.Container,this.addChild(this._textContainer),this._spriteContainer&&(this._spriteContainer.removeChildren(),this.removeChild(this._spriteContainer)),this._spriteContainer=new t.Container,this.addChild(this._spriteContainer),this._decorationContainer&&(this._decorationContainer.removeChildren(),this.removeChild(this._decorationContainer)),this._decorationContainer=new t.Container,this.addChild(this._decorationContainer),this._debugContainer&&(this._debugContainer.removeChildren(),this.removeChild(this._debugContainer)),this._debugContainer=new t.Container,this.addChild(this._debugContainer),this._textFields=[],this._sprites=[],this._decorations=[]},c.createSpriteTemplatesFromSourceMap=function(u){var F=this;this._spriteTemplates={},Object.entries(u).forEach(function(u){var e,r,i,o,a=u[0],s=u[1],l=new TypeError("The spriteSource provided for key "+a+" was not in a valid format. Please use a Sprite, Texture, BaseTexture, string, HTMLImageElement, HTMLVideoElement, HTMLCanvasElement, or SVGElement"),D=new Error("The spriteSource provided for key "+a+" appears to be a Sprite or Texture that has been destroyed or removed from PIXI.TextureCache probably using `destroy()` with aggressive options or `destroyImgMap()`."),E=null,c=new t.Sprite;try{s instanceof t.Sprite?c=s:B(s)?c=t.Sprite.from(s):function(u){return u instanceof HTMLImageElement}(o=s)||function(u){return u instanceof t.BaseTexture}(o)?c=t.Sprite.from(t.Texture.from(s)):(E=l,console.log(E))}catch(u){E=u,console.log(E)}if((B(s)&&null===s.baseTexture||void 0!==c&&(c.destroyed||null===(null==(e=c.texture)?void 0:e.baseTexture)))&&(E=D,console.log(E)),E)throw E;c.texture.baseTexture.addListener("update",function u(t){F.onImageTextureUpdate(t),t.removeListener("update",u)}),F.spriteTemplates[a]=c;var d=null!=(r=F.getStyleForTag(a))?r:{},C=n(((i={}).imgSrc=a,i),d);F.setStyleForTag(a,C)})},c.onImageTextureUpdate=function(u){this._needsUpdate=!0,this._needsDraw=!0,this.updateIfShould()},c.updateIfShould=function(u){return(!1===u||void 0===u&&!1===this.options.skipUpdates)&&(this.update(),!0)},c.update=function(u){var F=this.tagStyles,e=this.options,r=e.splitStyle,i=e.scaleIcons,s=this.options.imgMap&&this.spriteTemplates,D=function(u,F,e){var r,i=null!=(r=F.default)?r:{},o=[],s=[],l={};return function u(r){var D,E;if("string"==typeof r)return r;var c,d,B,C,h,f,p=r.tag,A=r.attributes,g=i,v="",y=null!=(D=s[s.length-1])?D:L.fontSize;p&&(o.push({tagName:p,attributes:void 0===A?{}:A}),v=(f=o,f.map(function(u){return u.tagName})).join(","),g=function(u,F,t){var e=JSON.stringify(u);if(void 0===t[e]){var n=F.default,r=u.map(function(u){return function(u,F){return G(u.tagName,F,u.attributes)}(u,F)}),i=[n].concat(r);t[e]=H(i)}return t[e]}(o,F,l),g=function(u){var F=u.textDecoration;if(void 0===F||"normal"===F)return u;var t=u.decorationColor||u.fill||L.fill,e=u.decorationThickness||1;function r(F,n){var r,i,o,a,s;return void 0===n&&(n=F),null!=(r=u.textDecoration)&&r.includes(F)?((s={})[n+"Color"]=null!=(i=u[n+"Color"])?i:t,s[n+"Thickness"]=null!=(o=u[n+"Thickness"])?o:e,s[n+"Offset"]=null!=(a=u[n+"Offset"])?a:0,s):{}}return n({},u,r("underline"),r("overline"),r("line-through","lineThrough"))}(g)),g.fontSize=void 0!==g.fontSize?(c=g.fontSize,B=(d=k(y)).value,C=d.unit,(h=k(c)).unit===a.percent?B*(h.value/100)+C:c):y,s.push(g.fontSize);var w={style:g,tags:v,children:r.children.map(u)},b=null!=(E=g.imgSrc)?E:"";if(b){if(void 0===e)throw new Error('An image tag with imgSrc="'+b+'" was encountered, but no imgMap was provided. Please include a valid Sprite in the imgMap property in the options in your TaggedText constructor.');var m=e[b];if(void 0===m)throw new Error('An image tag with imgSrc="'+b+'" was encountered, but there was no matching sprite in the sprite map. Please include a valid Sprite in the imgMap property in the options in your TaggedText constructor.');if(m instanceof t.Sprite==0)throw new Error('The image reference you provided for "'+b+'" is not a Sprite. The imgMap can only accept PIXI.Sprite instances.');var x=function(u){return new t.Sprite(u.texture)}(m);w.children=[x].concat(w.children)}return o.pop(),s.pop(),w}(u)}(function(u,F,t,e){void 0===F&&(F=[]),void 0===t&&(t=!1),void 0===e&&(e=N),t&&function(u){return/\u{1F3F4}\u{E0067}\u{E0062}(?:\u{E0077}\u{E006C}\u{E0073}|\u{E0073}\u{E0063}\u{E0074}|\u{E0065}\u{E006E}\u{E0067})\u{E007F}|(?:\u{1F9D1}\u{1F3FF}\u200D\u2764\uFE0F\u200D(?:\u{1F48B}\u200D)?\u{1F9D1}|\u{1F469}\u{1F3FF}\u200D\u{1F91D}\u200D[\u{1F468}\u{1F469}])[\u{1F3FB}-\u{1F3FE}]|(?:\u{1F9D1}\u{1F3FE}\u200D\u2764\uFE0F\u200D(?:\u{1F48B}\u200D)?\u{1F9D1}|\u{1F469}\u{1F3FE}\u200D\u{1F91D}\u200D[\u{1F468}\u{1F469}])[\u{1F3FB}-\u{1F3FD}\u{1F3FF}]|(?:\u{1F9D1}\u{1F3FD}\u200D\u2764\uFE0F\u200D(?:\u{1F48B}\u200D)?\u{1F9D1}|\u{1F469}\u{1F3FD}\u200D\u{1F91D}\u200D[\u{1F468}\u{1F469}])[\u{1F3FB}\u{1F3FC}\u{1F3FE}\u{1F3FF}]|(?:\u{1F9D1}\u{1F3FC}\u200D\u2764\uFE0F\u200D(?:\u{1F48B}\u200D)?\u{1F9D1}|\u{1F469}\u{1F3FC}\u200D\u{1F91D}\u200D[\u{1F468}\u{1F469}])[\u{1F3FB}\u{1F3FD}-\u{1F3FF}]|(?:\u{1F9D1}\u{1F3FB}\u200D\u2764\uFE0F\u200D(?:\u{1F48B}\u200D)?\u{1F9D1}|\u{1F469}\u{1F3FB}\u200D\u{1F91D}\u200D[\u{1F468}\u{1F469}])[\u{1F3FC}-\u{1F3FF}]|\u{1F468}(?:\u{1F3FB}(?:\u200D(?:\u2764\uFE0F\u200D(?:\u{1F48B}\u200D\u{1F468}[\u{1F3FB}-\u{1F3FF}]|\u{1F468}[\u{1F3FB}-\u{1F3FF}])|\u{1F91D}\u200D\u{1F468}[\u{1F3FC}-\u{1F3FF}]|[\u2695\u2696\u2708]\uFE0F|[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]))?|[\u{1F3FC}-\u{1F3FF}]\u200D\u2764\uFE0F\u200D(?:\u{1F48B}\u200D\u{1F468}[\u{1F3FB}-\u{1F3FF}]|\u{1F468}[\u{1F3FB}-\u{1F3FF}])|\u200D(?:\u2764\uFE0F\u200D(?:\u{1F48B}\u200D)?\u{1F468}|[\u{1F468}\u{1F469}]\u200D(?:\u{1F466}\u200D\u{1F466}|\u{1F467}\u200D[\u{1F466}\u{1F467}])|\u{1F466}\u200D\u{1F466}|\u{1F467}\u200D[\u{1F466}\u{1F467}]|[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|\u{1F3FF}\u200D(?:\u{1F91D}\u200D\u{1F468}[\u{1F3FB}-\u{1F3FE}]|[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|\u{1F3FE}\u200D(?:\u{1F91D}\u200D\u{1F468}[\u{1F3FB}-\u{1F3FD}\u{1F3FF}]|[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|\u{1F3FD}\u200D(?:\u{1F91D}\u200D\u{1F468}[\u{1F3FB}\u{1F3FC}\u{1F3FE}\u{1F3FF}]|[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|\u{1F3FC}\u200D(?:\u{1F91D}\u200D\u{1F468}[\u{1F3FB}\u{1F3FD}-\u{1F3FF}]|[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|(?:\u{1F3FF}\u200D[\u2695\u2696\u2708]|\u{1F3FE}\u200D[\u2695\u2696\u2708]|\u{1F3FD}\u200D[\u2695\u2696\u2708]|\u{1F3FC}\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:[\u{1F468}\u{1F469}]\u200D[\u{1F466}\u{1F467}]|[\u{1F466}\u{1F467}])|\u{1F3FF}|\u{1F3FE}|\u{1F3FD}|\u{1F3FC})?|(?:\u{1F469}(?:\u{1F3FB}\u200D\u2764\uFE0F\u200D(?:\u{1F48B}\u200D[\u{1F468}\u{1F469}]|[\u{1F468}\u{1F469}])|[\u{1F3FC}-\u{1F3FF}]\u200D\u2764\uFE0F\u200D(?:\u{1F48B}\u200D[\u{1F468}\u{1F469}]|[\u{1F468}\u{1F469}]))|\u{1F9D1}[\u{1F3FB}-\u{1F3FF}]\u200D\u{1F91D}\u200D\u{1F9D1})[\u{1F3FB}-\u{1F3FF}]|\u{1F469}\u200D\u{1F469}\u200D(?:\u{1F466}\u200D\u{1F466}|\u{1F467}\u200D[\u{1F466}\u{1F467}])|\u{1F469}(?:\u200D(?:\u2764\uFE0F\u200D(?:\u{1F48B}\u200D[\u{1F468}\u{1F469}]|[\u{1F468}\u{1F469}])|[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|\u{1F3FF}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]|\u{1F3FE}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]|\u{1F3FD}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]|\u{1F3FC}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]|\u{1F3FB}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|\u{1F9D1}(?:\u200D(?:\u{1F91D}\u200D\u{1F9D1}|[\u{1F33E}\u{1F373}\u{1F37C}\u{1F384}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|\u{1F3FF}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F384}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]|\u{1F3FE}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F384}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]|\u{1F3FD}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F384}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]|\u{1F3FC}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F384}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]|\u{1F3FB}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F384}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|\u{1F469}\u200D\u{1F466}\u200D\u{1F466}|\u{1F469}\u200D\u{1F469}\u200D[\u{1F466}\u{1F467}]|\u{1F469}\u200D\u{1F467}\u200D[\u{1F466}\u{1F467}]|(?:\u{1F441}\uFE0F\u200D\u{1F5E8}|\u{1F9D1}(?:\u{1F3FF}\u200D[\u2695\u2696\u2708]|\u{1F3FE}\u200D[\u2695\u2696\u2708]|\u{1F3FD}\u200D[\u2695\u2696\u2708]|\u{1F3FC}\u200D[\u2695\u2696\u2708]|\u{1F3FB}\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\u{1F469}(?:\u{1F3FF}\u200D[\u2695\u2696\u2708]|\u{1F3FE}\u200D[\u2695\u2696\u2708]|\u{1F3FD}\u200D[\u2695\u2696\u2708]|\u{1F3FC}\u200D[\u2695\u2696\u2708]|\u{1F3FB}\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\u{1F636}\u200D\u{1F32B}|\u{1F3F3}\uFE0F\u200D\u26A7|\u{1F43B}\u200D\u2744|(?:[\u{1F3C3}\u{1F3C4}\u{1F3CA}\u{1F46E}\u{1F470}\u{1F471}\u{1F473}\u{1F477}\u{1F481}\u{1F482}\u{1F486}\u{1F487}\u{1F645}-\u{1F647}\u{1F64B}\u{1F64D}\u{1F64E}\u{1F6A3}\u{1F6B4}-\u{1F6B6}\u{1F926}\u{1F935}\u{1F937}-\u{1F939}\u{1F93D}\u{1F93E}\u{1F9B8}\u{1F9B9}\u{1F9CD}-\u{1F9CF}\u{1F9D4}\u{1F9D6}-\u{1F9DD}][\u{1F3FB}-\u{1F3FF}]|[\u{1F46F}\u{1F93C}\u{1F9DE}\u{1F9DF}])\u200D[\u2640\u2642]|[\u26F9\u{1F3CB}\u{1F3CC}\u{1F575}][\uFE0F\u{1F3FB}-\u{1F3FF}]\u200D[\u2640\u2642]|\u{1F3F4}\u200D\u2620|[\u{1F3C3}\u{1F3C4}\u{1F3CA}\u{1F46E}\u{1F470}\u{1F471}\u{1F473}\u{1F477}\u{1F481}\u{1F482}\u{1F486}\u{1F487}\u{1F645}-\u{1F647}\u{1F64B}\u{1F64D}\u{1F64E}\u{1F6A3}\u{1F6B4}-\u{1F6B6}\u{1F926}\u{1F935}\u{1F937}-\u{1F939}\u{1F93D}\u{1F93E}\u{1F9B8}\u{1F9B9}\u{1F9CD}-\u{1F9CF}\u{1F9D4}\u{1F9D6}-\u{1F9DD}]\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299\u{1F170}\u{1F171}\u{1F17E}\u{1F17F}\u{1F202}\u{1F237}\u{1F321}\u{1F324}-\u{1F32C}\u{1F336}\u{1F37D}\u{1F396}\u{1F397}\u{1F399}-\u{1F39B}\u{1F39E}\u{1F39F}\u{1F3CD}\u{1F3CE}\u{1F3D4}-\u{1F3DF}\u{1F3F5}\u{1F3F7}\u{1F43F}\u{1F4FD}\u{1F549}\u{1F54A}\u{1F56F}\u{1F570}\u{1F573}\u{1F576}-\u{1F579}\u{1F587}\u{1F58A}-\u{1F58D}\u{1F5A5}\u{1F5A8}\u{1F5B1}\u{1F5B2}\u{1F5BC}\u{1F5C2}-\u{1F5C4}\u{1F5D1}-\u{1F5D3}\u{1F5DC}-\u{1F5DE}\u{1F5E1}\u{1F5E3}\u{1F5E8}\u{1F5EF}\u{1F5F3}\u{1F5FA}\u{1F6CB}\u{1F6CD}-\u{1F6CF}\u{1F6E0}-\u{1F6E5}\u{1F6E9}\u{1F6F0}\u{1F6F3}])\uFE0F|\u{1F3F3}\uFE0F\u200D\u{1F308}|\u{1F469}\u200D\u{1F467}|\u{1F469}\u200D\u{1F466}|\u{1F635}\u200D\u{1F4AB}|\u{1F62E}\u200D\u{1F4A8}|\u{1F415}\u200D\u{1F9BA}|\u{1F9D1}(?:\u{1F3FF}|\u{1F3FE}|\u{1F3FD}|\u{1F3FC}|\u{1F3FB})?|\u{1F469}(?:\u{1F3FF}|\u{1F3FE}|\u{1F3FD}|\u{1F3FC}|\u{1F3FB})?|\u{1F1FD}\u{1F1F0}|\u{1F1F6}\u{1F1E6}|\u{1F1F4}\u{1F1F2}|\u{1F408}\u200D\u2B1B|\u2764\uFE0F\u200D[\u{1F525}\u{1FA79}]|\u{1F441}\uFE0F|\u{1F3F3}\uFE0F|\u{1F1FF}[\u{1F1E6}\u{1F1F2}\u{1F1FC}]|\u{1F1FE}[\u{1F1EA}\u{1F1F9}]|\u{1F1FC}[\u{1F1EB}\u{1F1F8}]|\u{1F1FB}[\u{1F1E6}\u{1F1E8}\u{1F1EA}\u{1F1EC}\u{1F1EE}\u{1F1F3}\u{1F1FA}]|\u{1F1FA}[\u{1F1E6}\u{1F1EC}\u{1F1F2}\u{1F1F3}\u{1F1F8}\u{1F1FE}\u{1F1FF}]|\u{1F1F9}[\u{1F1E6}\u{1F1E8}\u{1F1E9}\u{1F1EB}-\u{1F1ED}\u{1F1EF}-\u{1F1F4}\u{1F1F7}\u{1F1F9}\u{1F1FB}\u{1F1FC}\u{1F1FF}]|\u{1F1F8}[\u{1F1E6}-\u{1F1EA}\u{1F1EC}-\u{1F1F4}\u{1F1F7}-\u{1F1F9}\u{1F1FB}\u{1F1FD}-\u{1F1FF}]|\u{1F1F7}[\u{1F1EA}\u{1F1F4}\u{1F1F8}\u{1F1FA}\u{1F1FC}]|\u{1F1F5}[\u{1F1E6}\u{1F1EA}-\u{1F1ED}\u{1F1F0}-\u{1F1F3}\u{1F1F7}-\u{1F1F9}\u{1F1FC}\u{1F1FE}]|\u{1F1F3}[\u{1F1E6}\u{1F1E8}\u{1F1EA}-\u{1F1EC}\u{1F1EE}\u{1F1F1}\u{1F1F4}\u{1F1F5}\u{1F1F7}\u{1F1FA}\u{1F1FF}]|\u{1F1F2}[\u{1F1E6}\u{1F1E8}-\u{1F1ED}\u{1F1F0}-\u{1F1FF}]|\u{1F1F1}[\u{1F1E6}-\u{1F1E8}\u{1F1EE}\u{1F1F0}\u{1F1F7}-\u{1F1FB}\u{1F1FE}]|\u{1F1F0}[\u{1F1EA}\u{1F1EC}-\u{1F1EE}\u{1F1F2}\u{1F1F3}\u{1F1F5}\u{1F1F7}\u{1F1FC}\u{1F1FE}\u{1F1FF}]|\u{1F1EF}[\u{1F1EA}\u{1F1F2}\u{1F1F4}\u{1F1F5}]|\u{1F1EE}[\u{1F1E8}-\u{1F1EA}\u{1F1F1}-\u{1F1F4}\u{1F1F6}-\u{1F1F9}]|\u{1F1ED}[\u{1F1F0}\u{1F1F2}\u{1F1F3}\u{1F1F7}\u{1F1F9}\u{1F1FA}]|\u{1F1EC}[\u{1F1E6}\u{1F1E7}\u{1F1E9}-\u{1F1EE}\u{1F1F1}-\u{1F1F3}\u{1F1F5}-\u{1F1FA}\u{1F1FC}\u{1F1FE}]|\u{1F1EB}[\u{1F1EE}-\u{1F1F0}\u{1F1F2}\u{1F1F4}\u{1F1F7}]|\u{1F1EA}[\u{1F1E6}\u{1F1E8}\u{1F1EA}\u{1F1EC}\u{1F1ED}\u{1F1F7}-\u{1F1FA}]|\u{1F1E9}[\u{1F1EA}\u{1F1EC}\u{1F1EF}\u{1F1F0}\u{1F1F2}\u{1F1F4}\u{1F1FF}]|\u{1F1E8}[\u{1F1E6}\u{1F1E8}\u{1F1E9}\u{1F1EB}-\u{1F1EE}\u{1F1F0}-\u{1F1F5}\u{1F1F7}\u{1F1FA}-\u{1F1FF}]|\u{1F1E7}[\u{1F1E6}\u{1F1E7}\u{1F1E9}-\u{1F1EF}\u{1F1F1}-\u{1F1F4}\u{1F1F6}-\u{1F1F9}\u{1F1FB}\u{1F1FC}\u{1F1FE}\u{1F1FF}]|\u{1F1E6}[\u{1F1E8}-\u{1F1EC}\u{1F1EE}\u{1F1F1}\u{1F1F2}\u{1F1F4}\u{1F1F6}-\u{1F1FA}\u{1F1FC}\u{1F1FD}\u{1F1FF}]|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|[\u{1F3C3}\u{1F3C4}\u{1F3CA}\u{1F46E}\u{1F470}\u{1F471}\u{1F473}\u{1F477}\u{1F481}\u{1F482}\u{1F486}\u{1F487}\u{1F645}-\u{1F647}\u{1F64B}\u{1F64D}\u{1F64E}\u{1F6A3}\u{1F6B4}-\u{1F6B6}\u{1F926}\u{1F935}\u{1F937}-\u{1F939}\u{1F93D}\u{1F93E}\u{1F9B8}\u{1F9B9}\u{1F9CD}-\u{1F9CF}\u{1F9D4}\u{1F9D6}-\u{1F9DD}][\u{1F3FB}-\u{1F3FF}]|[\u26F9\u{1F3CB}\u{1F3CC}\u{1F575}][\uFE0F\u{1F3FB}-\u{1F3FF}]|\u{1F3F4}|[\u270A\u270B\u{1F385}\u{1F3C2}\u{1F3C7}\u{1F442}\u{1F443}\u{1F446}-\u{1F450}\u{1F466}\u{1F467}\u{1F46B}-\u{1F46D}\u{1F472}\u{1F474}-\u{1F476}\u{1F478}\u{1F47C}\u{1F483}\u{1F485}\u{1F48F}\u{1F491}\u{1F4AA}\u{1F57A}\u{1F595}\u{1F596}\u{1F64C}\u{1F64F}\u{1F6C0}\u{1F6CC}\u{1F90C}\u{1F90F}\u{1F918}-\u{1F91C}\u{1F91E}\u{1F91F}\u{1F930}-\u{1F934}\u{1F936}\u{1F977}\u{1F9B5}\u{1F9B6}\u{1F9BB}\u{1F9D2}\u{1F9D3}\u{1F9D5}][\u{1F3FB}-\u{1F3FF}]|[\u261D\u270C\u270D\u{1F574}\u{1F590}][\uFE0F\u{1F3FB}-\u{1F3FF}]|[\u270A\u270B\u{1F385}\u{1F3C2}\u{1F3C7}\u{1F408}\u{1F415}\u{1F43B}\u{1F442}\u{1F443}\u{1F446}-\u{1F450}\u{1F466}\u{1F467}\u{1F46B}-\u{1F46D}\u{1F472}\u{1F474}-\u{1F476}\u{1F478}\u{1F47C}\u{1F483}\u{1F485}\u{1F48F}\u{1F491}\u{1F4AA}\u{1F57A}\u{1F595}\u{1F596}\u{1F62E}\u{1F635}\u{1F636}\u{1F64C}\u{1F64F}\u{1F6C0}\u{1F6CC}\u{1F90C}\u{1F90F}\u{1F918}-\u{1F91C}\u{1F91E}\u{1F91F}\u{1F930}-\u{1F934}\u{1F936}\u{1F977}\u{1F9B5}\u{1F9B6}\u{1F9BB}\u{1F9D2}\u{1F9D3}\u{1F9D5}]|[\u{1F3C3}\u{1F3C4}\u{1F3CA}\u{1F46E}\u{1F470}\u{1F471}\u{1F473}\u{1F477}\u{1F481}\u{1F482}\u{1F486}\u{1F487}\u{1F645}-\u{1F647}\u{1F64B}\u{1F64D}\u{1F64E}\u{1F6A3}\u{1F6B4}-\u{1F6B6}\u{1F926}\u{1F935}\u{1F937}-\u{1F939}\u{1F93D}\u{1F93E}\u{1F9B8}\u{1F9B9}\u{1F9CD}-\u{1F9CF}\u{1F9D4}\u{1F9D6}-\u{1F9DD}]|[\u{1F46F}\u{1F93C}\u{1F9DE}\u{1F9DF}]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55\u{1F004}\u{1F0CF}\u{1F18E}\u{1F191}-\u{1F19A}\u{1F201}\u{1F21A}\u{1F22F}\u{1F232}-\u{1F236}\u{1F238}-\u{1F23A}\u{1F250}\u{1F251}\u{1F300}-\u{1F320}\u{1F32D}-\u{1F335}\u{1F337}-\u{1F37C}\u{1F37E}-\u{1F384}\u{1F386}-\u{1F393}\u{1F3A0}-\u{1F3C1}\u{1F3C5}\u{1F3C6}\u{1F3C8}\u{1F3C9}\u{1F3CF}-\u{1F3D3}\u{1F3E0}-\u{1F3F0}\u{1F3F8}-\u{1F407}\u{1F409}-\u{1F414}\u{1F416}-\u{1F43A}\u{1F43C}-\u{1F43E}\u{1F440}\u{1F444}\u{1F445}\u{1F451}-\u{1F465}\u{1F46A}\u{1F479}-\u{1F47B}\u{1F47D}-\u{1F480}\u{1F484}\u{1F488}-\u{1F48E}\u{1F490}\u{1F492}-\u{1F4A9}\u{1F4AB}-\u{1F4FC}\u{1F4FF}-\u{1F53D}\u{1F54B}-\u{1F54E}\u{1F550}-\u{1F567}\u{1F5A4}\u{1F5FB}-\u{1F62D}\u{1F62F}-\u{1F634}\u{1F637}-\u{1F644}\u{1F648}-\u{1F64A}\u{1F680}-\u{1F6A2}\u{1F6A4}-\u{1F6B3}\u{1F6B7}-\u{1F6BF}\u{1F6C1}-\u{1F6C5}\u{1F6D0}-\u{1F6D2}\u{1F6D5}-\u{1F6D7}\u{1F6EB}\u{1F6EC}\u{1F6F4}-\u{1F6FC}\u{1F7E0}-\u{1F7EB}\u{1F90D}\u{1F90E}\u{1F910}-\u{1F917}\u{1F91D}\u{1F920}-\u{1F925}\u{1F927}-\u{1F92F}\u{1F93A}\u{1F93F}-\u{1F945}\u{1F947}-\u{1F976}\u{1F978}\u{1F97A}-\u{1F9B4}\u{1F9B7}\u{1F9BA}\u{1F9BC}-\u{1F9CB}\u{1F9D0}\u{1F9E0}-\u{1F9FF}\u{1FA70}-\u{1FA74}\u{1FA78}-\u{1FA7A}\u{1FA80}-\u{1FA86}\u{1FA90}-\u{1FAA8}\u{1FAB0}-\u{1FAB6}\u{1FAC0}-\u{1FAC2}\u{1FAD0}-\u{1FAD6}]/gu.test(u)}(u)&&(u=function(u){var F=new RegExp("((<|</)[^>]*)?("+/\u{1F3F4}\u{E0067}\u{E0062}(?:\u{E0077}\u{E006C}\u{E0073}|\u{E0073}\u{E0063}\u{E0074}|\u{E0065}\u{E006E}\u{E0067})\u{E007F}|(?:\u{1F9D1}\u{1F3FF}\u200D\u2764\uFE0F\u200D(?:\u{1F48B}\u200D)?\u{1F9D1}|\u{1F469}\u{1F3FF}\u200D\u{1F91D}\u200D[\u{1F468}\u{1F469}])[\u{1F3FB}-\u{1F3FE}]|(?:\u{1F9D1}\u{1F3FE}\u200D\u2764\uFE0F\u200D(?:\u{1F48B}\u200D)?\u{1F9D1}|\u{1F469}\u{1F3FE}\u200D\u{1F91D}\u200D[\u{1F468}\u{1F469}])[\u{1F3FB}-\u{1F3FD}\u{1F3FF}]|(?:\u{1F9D1}\u{1F3FD}\u200D\u2764\uFE0F\u200D(?:\u{1F48B}\u200D)?\u{1F9D1}|\u{1F469}\u{1F3FD}\u200D\u{1F91D}\u200D[\u{1F468}\u{1F469}])[\u{1F3FB}\u{1F3FC}\u{1F3FE}\u{1F3FF}]|(?:\u{1F9D1}\u{1F3FC}\u200D\u2764\uFE0F\u200D(?:\u{1F48B}\u200D)?\u{1F9D1}|\u{1F469}\u{1F3FC}\u200D\u{1F91D}\u200D[\u{1F468}\u{1F469}])[\u{1F3FB}\u{1F3FD}-\u{1F3FF}]|(?:\u{1F9D1}\u{1F3FB}\u200D\u2764\uFE0F\u200D(?:\u{1F48B}\u200D)?\u{1F9D1}|\u{1F469}\u{1F3FB}\u200D\u{1F91D}\u200D[\u{1F468}\u{1F469}])[\u{1F3FC}-\u{1F3FF}]|\u{1F468}(?:\u{1F3FB}(?:\u200D(?:\u2764\uFE0F\u200D(?:\u{1F48B}\u200D\u{1F468}[\u{1F3FB}-\u{1F3FF}]|\u{1F468}[\u{1F3FB}-\u{1F3FF}])|\u{1F91D}\u200D\u{1F468}[\u{1F3FC}-\u{1F3FF}]|[\u2695\u2696\u2708]\uFE0F|[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]))?|[\u{1F3FC}-\u{1F3FF}]\u200D\u2764\uFE0F\u200D(?:\u{1F48B}\u200D\u{1F468}[\u{1F3FB}-\u{1F3FF}]|\u{1F468}[\u{1F3FB}-\u{1F3FF}])|\u200D(?:\u2764\uFE0F\u200D(?:\u{1F48B}\u200D)?\u{1F468}|[\u{1F468}\u{1F469}]\u200D(?:\u{1F466}\u200D\u{1F466}|\u{1F467}\u200D[\u{1F466}\u{1F467}])|\u{1F466}\u200D\u{1F466}|\u{1F467}\u200D[\u{1F466}\u{1F467}]|[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|\u{1F3FF}\u200D(?:\u{1F91D}\u200D\u{1F468}[\u{1F3FB}-\u{1F3FE}]|[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|\u{1F3FE}\u200D(?:\u{1F91D}\u200D\u{1F468}[\u{1F3FB}-\u{1F3FD}\u{1F3FF}]|[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|\u{1F3FD}\u200D(?:\u{1F91D}\u200D\u{1F468}[\u{1F3FB}\u{1F3FC}\u{1F3FE}\u{1F3FF}]|[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|\u{1F3FC}\u200D(?:\u{1F91D}\u200D\u{1F468}[\u{1F3FB}\u{1F3FD}-\u{1F3FF}]|[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|(?:\u{1F3FF}\u200D[\u2695\u2696\u2708]|\u{1F3FE}\u200D[\u2695\u2696\u2708]|\u{1F3FD}\u200D[\u2695\u2696\u2708]|\u{1F3FC}\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:[\u{1F468}\u{1F469}]\u200D[\u{1F466}\u{1F467}]|[\u{1F466}\u{1F467}])|\u{1F3FF}|\u{1F3FE}|\u{1F3FD}|\u{1F3FC})?|(?:\u{1F469}(?:\u{1F3FB}\u200D\u2764\uFE0F\u200D(?:\u{1F48B}\u200D[\u{1F468}\u{1F469}]|[\u{1F468}\u{1F469}])|[\u{1F3FC}-\u{1F3FF}]\u200D\u2764\uFE0F\u200D(?:\u{1F48B}\u200D[\u{1F468}\u{1F469}]|[\u{1F468}\u{1F469}]))|\u{1F9D1}[\u{1F3FB}-\u{1F3FF}]\u200D\u{1F91D}\u200D\u{1F9D1})[\u{1F3FB}-\u{1F3FF}]|\u{1F469}\u200D\u{1F469}\u200D(?:\u{1F466}\u200D\u{1F466}|\u{1F467}\u200D[\u{1F466}\u{1F467}])|\u{1F469}(?:\u200D(?:\u2764\uFE0F\u200D(?:\u{1F48B}\u200D[\u{1F468}\u{1F469}]|[\u{1F468}\u{1F469}])|[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|\u{1F3FF}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]|\u{1F3FE}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]|\u{1F3FD}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]|\u{1F3FC}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]|\u{1F3FB}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|\u{1F9D1}(?:\u200D(?:\u{1F91D}\u200D\u{1F9D1}|[\u{1F33E}\u{1F373}\u{1F37C}\u{1F384}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|\u{1F3FF}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F384}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]|\u{1F3FE}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F384}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]|\u{1F3FD}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F384}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]|\u{1F3FC}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F384}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]|\u{1F3FB}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F384}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|\u{1F469}\u200D\u{1F466}\u200D\u{1F466}|\u{1F469}\u200D\u{1F469}\u200D[\u{1F466}\u{1F467}]|\u{1F469}\u200D\u{1F467}\u200D[\u{1F466}\u{1F467}]|(?:\u{1F441}\uFE0F\u200D\u{1F5E8}|\u{1F9D1}(?:\u{1F3FF}\u200D[\u2695\u2696\u2708]|\u{1F3FE}\u200D[\u2695\u2696\u2708]|\u{1F3FD}\u200D[\u2695\u2696\u2708]|\u{1F3FC}\u200D[\u2695\u2696\u2708]|\u{1F3FB}\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\u{1F469}(?:\u{1F3FF}\u200D[\u2695\u2696\u2708]|\u{1F3FE}\u200D[\u2695\u2696\u2708]|\u{1F3FD}\u200D[\u2695\u2696\u2708]|\u{1F3FC}\u200D[\u2695\u2696\u2708]|\u{1F3FB}\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\u{1F636}\u200D\u{1F32B}|\u{1F3F3}\uFE0F\u200D\u26A7|\u{1F43B}\u200D\u2744|(?:[\u{1F3C3}\u{1F3C4}\u{1F3CA}\u{1F46E}\u{1F470}\u{1F471}\u{1F473}\u{1F477}\u{1F481}\u{1F482}\u{1F486}\u{1F487}\u{1F645}-\u{1F647}\u{1F64B}\u{1F64D}\u{1F64E}\u{1F6A3}\u{1F6B4}-\u{1F6B6}\u{1F926}\u{1F935}\u{1F937}-\u{1F939}\u{1F93D}\u{1F93E}\u{1F9B8}\u{1F9B9}\u{1F9CD}-\u{1F9CF}\u{1F9D4}\u{1F9D6}-\u{1F9DD}][\u{1F3FB}-\u{1F3FF}]|[\u{1F46F}\u{1F93C}\u{1F9DE}\u{1F9DF}])\u200D[\u2640\u2642]|[\u26F9\u{1F3CB}\u{1F3CC}\u{1F575}][\uFE0F\u{1F3FB}-\u{1F3FF}]\u200D[\u2640\u2642]|\u{1F3F4}\u200D\u2620|[\u{1F3C3}\u{1F3C4}\u{1F3CA}\u{1F46E}\u{1F470}\u{1F471}\u{1F473}\u{1F477}\u{1F481}\u{1F482}\u{1F486}\u{1F487}\u{1F645}-\u{1F647}\u{1F64B}\u{1F64D}\u{1F64E}\u{1F6A3}\u{1F6B4}-\u{1F6B6}\u{1F926}\u{1F935}\u{1F937}-\u{1F939}\u{1F93D}\u{1F93E}\u{1F9B8}\u{1F9B9}\u{1F9CD}-\u{1F9CF}\u{1F9D4}\u{1F9D6}-\u{1F9DD}]\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299\u{1F170}\u{1F171}\u{1F17E}\u{1F17F}\u{1F202}\u{1F237}\u{1F321}\u{1F324}-\u{1F32C}\u{1F336}\u{1F37D}\u{1F396}\u{1F397}\u{1F399}-\u{1F39B}\u{1F39E}\u{1F39F}\u{1F3CD}\u{1F3CE}\u{1F3D4}-\u{1F3DF}\u{1F3F5}\u{1F3F7}\u{1F43F}\u{1F4FD}\u{1F549}\u{1F54A}\u{1F56F}\u{1F570}\u{1F573}\u{1F576}-\u{1F579}\u{1F587}\u{1F58A}-\u{1F58D}\u{1F5A5}\u{1F5A8}\u{1F5B1}\u{1F5B2}\u{1F5BC}\u{1F5C2}-\u{1F5C4}\u{1F5D1}-\u{1F5D3}\u{1F5DC}-\u{1F5DE}\u{1F5E1}\u{1F5E3}\u{1F5E8}\u{1F5EF}\u{1F5F3}\u{1F5FA}\u{1F6CB}\u{1F6CD}-\u{1F6CF}\u{1F6E0}-\u{1F6E5}\u{1F6E9}\u{1F6F0}\u{1F6F3}])\uFE0F|\u{1F3F3}\uFE0F\u200D\u{1F308}|\u{1F469}\u200D\u{1F467}|\u{1F469}\u200D\u{1F466}|\u{1F635}\u200D\u{1F4AB}|\u{1F62E}\u200D\u{1F4A8}|\u{1F415}\u200D\u{1F9BA}|\u{1F9D1}(?:\u{1F3FF}|\u{1F3FE}|\u{1F3FD}|\u{1F3FC}|\u{1F3FB})?|\u{1F469}(?:\u{1F3FF}|\u{1F3FE}|\u{1F3FD}|\u{1F3FC}|\u{1F3FB})?|\u{1F1FD}\u{1F1F0}|\u{1F1F6}\u{1F1E6}|\u{1F1F4}\u{1F1F2}|\u{1F408}\u200D\u2B1B|\u2764\uFE0F\u200D[\u{1F525}\u{1FA79}]|\u{1F441}\uFE0F|\u{1F3F3}\uFE0F|\u{1F1FF}[\u{1F1E6}\u{1F1F2}\u{1F1FC}]|\u{1F1FE}[\u{1F1EA}\u{1F1F9}]|\u{1F1FC}[\u{1F1EB}\u{1F1F8}]|\u{1F1FB}[\u{1F1E6}\u{1F1E8}\u{1F1EA}\u{1F1EC}\u{1F1EE}\u{1F1F3}\u{1F1FA}]|\u{1F1FA}[\u{1F1E6}\u{1F1EC}\u{1F1F2}\u{1F1F3}\u{1F1F8}\u{1F1FE}\u{1F1FF}]|\u{1F1F9}[\u{1F1E6}\u{1F1E8}\u{1F1E9}\u{1F1EB}-\u{1F1ED}\u{1F1EF}-\u{1F1F4}\u{1F1F7}\u{1F1F9}\u{1F1FB}\u{1F1FC}\u{1F1FF}]|\u{1F1F8}[\u{1F1E6}-\u{1F1EA}\u{1F1EC}-\u{1F1F4}\u{1F1F7}-\u{1F1F9}\u{1F1FB}\u{1F1FD}-\u{1F1FF}]|\u{1F1F7}[\u{1F1EA}\u{1F1F4}\u{1F1F8}\u{1F1FA}\u{1F1FC}]|\u{1F1F5}[\u{1F1E6}\u{1F1EA}-\u{1F1ED}\u{1F1F0}-\u{1F1F3}\u{1F1F7}-\u{1F1F9}\u{1F1FC}\u{1F1FE}]|\u{1F1F3}[\u{1F1E6}\u{1F1E8}\u{1F1EA}-\u{1F1EC}\u{1F1EE}\u{1F1F1}\u{1F1F4}\u{1F1F5}\u{1F1F7}\u{1F1FA}\u{1F1FF}]|\u{1F1F2}[\u{1F1E6}\u{1F1E8}-\u{1F1ED}\u{1F1F0}-\u{1F1FF}]|\u{1F1F1}[\u{1F1E6}-\u{1F1E8}\u{1F1EE}\u{1F1F0}\u{1F1F7}-\u{1F1FB}\u{1F1FE}]|\u{1F1F0}[\u{1F1EA}\u{1F1EC}-\u{1F1EE}\u{1F1F2}\u{1F1F3}\u{1F1F5}\u{1F1F7}\u{1F1FC}\u{1F1FE}\u{1F1FF}]|\u{1F1EF}[\u{1F1EA}\u{1F1F2}\u{1F1F4}\u{1F1F5}]|\u{1F1EE}[\u{1F1E8}-\u{1F1EA}\u{1F1F1}-\u{1F1F4}\u{1F1F6}-\u{1F1F9}]|\u{1F1ED}[\u{1F1F0}\u{1F1F2}\u{1F1F3}\u{1F1F7}\u{1F1F9}\u{1F1FA}]|\u{1F1EC}[\u{1F1E6}\u{1F1E7}\u{1F1E9}-\u{1F1EE}\u{1F1F1}-\u{1F1F3}\u{1F1F5}-\u{1F1FA}\u{1F1FC}\u{1F1FE}]|\u{1F1EB}[\u{1F1EE}-\u{1F1F0}\u{1F1F2}\u{1F1F4}\u{1F1F7}]|\u{1F1EA}[\u{1F1E6}\u{1F1E8}\u{1F1EA}\u{1F1EC}\u{1F1ED}\u{1F1F7}-\u{1F1FA}]|\u{1F1E9}[\u{1F1EA}\u{1F1EC}\u{1F1EF}\u{1F1F0}\u{1F1F2}\u{1F1F4}\u{1F1FF}]|\u{1F1E8}[\u{1F1E6}\u{1F1E8}\u{1F1E9}\u{1F1EB}-\u{1F1EE}\u{1F1F0}-\u{1F1F5}\u{1F1F7}\u{1F1FA}-\u{1F1FF}]|\u{1F1E7}[\u{1F1E6}\u{1F1E7}\u{1F1E9}-\u{1F1EF}\u{1F1F1}-\u{1F1F4}\u{1F1F6}-\u{1F1F9}\u{1F1FB}\u{1F1FC}\u{1F1FE}\u{1F1FF}]|\u{1F1E6}[\u{1F1E8}-\u{1F1EC}\u{1F1EE}\u{1F1F1}\u{1F1F2}\u{1F1F4}\u{1F1F6}-\u{1F1FA}\u{1F1FC}\u{1F1FD}\u{1F1FF}]|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|[\u{1F3C3}\u{1F3C4}\u{1F3CA}\u{1F46E}\u{1F470}\u{1F471}\u{1F473}\u{1F477}\u{1F481}\u{1F482}\u{1F486}\u{1F487}\u{1F645}-\u{1F647}\u{1F64B}\u{1F64D}\u{1F64E}\u{1F6A3}\u{1F6B4}-\u{1F6B6}\u{1F926}\u{1F935}\u{1F937}-\u{1F939}\u{1F93D}\u{1F93E}\u{1F9B8}\u{1F9B9}\u{1F9CD}-\u{1F9CF}\u{1F9D4}\u{1F9D6}-\u{1F9DD}][\u{1F3FB}-\u{1F3FF}]|[\u26F9\u{1F3CB}\u{1F3CC}\u{1F575}][\uFE0F\u{1F3FB}-\u{1F3FF}]|\u{1F3F4}|[\u270A\u270B\u{1F385}\u{1F3C2}\u{1F3C7}\u{1F442}\u{1F443}\u{1F446}-\u{1F450}\u{1F466}\u{1F467}\u{1F46B}-\u{1F46D}\u{1F472}\u{1F474}-\u{1F476}\u{1F478}\u{1F47C}\u{1F483}\u{1F485}\u{1F48F}\u{1F491}\u{1F4AA}\u{1F57A}\u{1F595}\u{1F596}\u{1F64C}\u{1F64F}\u{1F6C0}\u{1F6CC}\u{1F90C}\u{1F90F}\u{1F918}-\u{1F91C}\u{1F91E}\u{1F91F}\u{1F930}-\u{1F934}\u{1F936}\u{1F977}\u{1F9B5}\u{1F9B6}\u{1F9BB}\u{1F9D2}\u{1F9D3}\u{1F9D5}][\u{1F3FB}-\u{1F3FF}]|[\u261D\u270C\u270D\u{1F574}\u{1F590}][\uFE0F\u{1F3FB}-\u{1F3FF}]|[\u270A\u270B\u{1F385}\u{1F3C2}\u{1F3C7}\u{1F408}\u{1F415}\u{1F43B}\u{1F442}\u{1F443}\u{1F446}-\u{1F450}\u{1F466}\u{1F467}\u{1F46B}-\u{1F46D}\u{1F472}\u{1F474}-\u{1F476}\u{1F478}\u{1F47C}\u{1F483}\u{1F485}\u{1F48F}\u{1F491}\u{1F4AA}\u{1F57A}\u{1F595}\u{1F596}\u{1F62E}\u{1F635}\u{1F636}\u{1F64C}\u{1F64F}\u{1F6C0}\u{1F6CC}\u{1F90C}\u{1F90F}\u{1F918}-\u{1F91C}\u{1F91E}\u{1F91F}\u{1F930}-\u{1F934}\u{1F936}\u{1F977}\u{1F9B5}\u{1F9B6}\u{1F9BB}\u{1F9D2}\u{1F9D3}\u{1F9D5}]|[\u{1F3C3}\u{1F3C4}\u{1F3CA}\u{1F46E}\u{1F470}\u{1F471}\u{1F473}\u{1F477}\u{1F481}\u{1F482}\u{1F486}\u{1F487}\u{1F645}-\u{1F647}\u{1F64B}\u{1F64D}\u{1F64E}\u{1F6A3}\u{1F6B4}-\u{1F6B6}\u{1F926}\u{1F935}\u{1F937}-\u{1F939}\u{1F93D}\u{1F93E}\u{1F9B8}\u{1F9B9}\u{1F9CD}-\u{1F9CF}\u{1F9D4}\u{1F9D6}-\u{1F9DD}]|[\u{1F46F}\u{1F93C}\u{1F9DE}\u{1F9DF}]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55\u{1F004}\u{1F0CF}\u{1F18E}\u{1F191}-\u{1F19A}\u{1F201}\u{1F21A}\u{1F22F}\u{1F232}-\u{1F236}\u{1F238}-\u{1F23A}\u{1F250}\u{1F251}\u{1F300}-\u{1F320}\u{1F32D}-\u{1F335}\u{1F337}-\u{1F37C}\u{1F37E}-\u{1F384}\u{1F386}-\u{1F393}\u{1F3A0}-\u{1F3C1}\u{1F3C5}\u{1F3C6}\u{1F3C8}\u{1F3C9}\u{1F3CF}-\u{1F3D3}\u{1F3E0}-\u{1F3F0}\u{1F3F8}-\u{1F407}\u{1F409}-\u{1F414}\u{1F416}-\u{1F43A}\u{1F43C}-\u{1F43E}\u{1F440}\u{1F444}\u{1F445}\u{1F451}-\u{1F465}\u{1F46A}\u{1F479}-\u{1F47B}\u{1F47D}-\u{1F480}\u{1F484}\u{1F488}-\u{1F48E}\u{1F490}\u{1F492}-\u{1F4A9}\u{1F4AB}-\u{1F4FC}\u{1F4FF}-\u{1F53D}\u{1F54B}-\u{1F54E}\u{1F550}-\u{1F567}\u{1F5A4}\u{1F5FB}-\u{1F62D}\u{1F62F}-\u{1F634}\u{1F637}-\u{1F644}\u{1F648}-\u{1F64A}\u{1F680}-\u{1F6A2}\u{1F6A4}-\u{1F6B3}\u{1F6B7}-\u{1F6BF}\u{1F6C1}-\u{1F6C5}\u{1F6D0}-\u{1F6D2}\u{1F6D5}-\u{1F6D7}\u{1F6EB}\u{1F6EC}\u{1F6F4}-\u{1F6FC}\u{1F7E0}-\u{1F7EB}\u{1F90D}\u{1F90E}\u{1F910}-\u{1F917}\u{1F91D}\u{1F920}-\u{1F925}\u{1F927}-\u{1F92F}\u{1F93A}\u{1F93F}-\u{1F945}\u{1F947}-\u{1F976}\u{1F978}\u{1F97A}-\u{1F9B4}\u{1F9B7}\u{1F9BA}\u{1F9BC}-\u{1F9CB}\u{1F9D0}\u{1F9E0}-\u{1F9FF}\u{1FA70}-\u{1FA74}\u{1FA78}-\u{1FA7A}\u{1FA80}-\u{1FA86}\u{1FA90}-\u{1FAA8}\u{1FAB0}-\u{1FAB6}\u{1FAC0}-\u{1FAC2}\u{1FAD0}-\u{1FAD6}]/gu.source+")+","gum");return u.replaceAll(F,function(u,F){return(null==F?void 0:F.length)>0?u:"<__EMOJI__>"+u+"</__EMOJI__>"})}(u)),u=function(u){return u.replace(I,function(u,F,t){void 0===t&&(t="");var e="<"+F+t+"></"+F+">";return(e=e.replace(/\s+/g," ")).replace(/\s>/g,">")})}(u);for(var n,r=j(F),i=[];n=r.exec(u);){var a=M(n);i.push(a)}var s=function(u,F){for(var t,e,n=[],r=u,i=0,a=o(F);!(e=a()).done;)if(t=e.value,void 0!==r){var s=t.index-i,l=s+t.tag.length;i+=l;var D=r.substr(0,s);n.push(D),r=r.substr(l)}return n.push(r),n}(u,i),D=function(u,F,t){void 0===t&&(t=N);var e={children:[]};""!==u[0]&&e.children.push(u[0]);for(var n=[e],r=0;r<F.length;r++){var i,o=F[r],a=null!=(i=u[r+1])?i:"";if(o.isOpening){var s=P(o);""!==a&&s.children.push(a),l(n).children.push(s),n.push(s)}else{var D=n.pop();if(void 0===D||D.tag!==o.tagName)throw new Error('Unexpected tag nesting. Found a closing tag "'+o.tagName+'" that doesn\'t match the previously open tag "'+(null==D?void 0:D.tag)+'"');""!==a&&l(n).children.push(a)}}return n.length>1&&t("unclosed-tags","Found "+(n.length-1)+" unclosed tags in\n"+n.map(function(u){return u.tag}).join("-")),e.children}(s,i,e);return{children:D}}(this.text,Object.keys(this.tagStyles),this.options.wrapEmoji,this.logWarning),F,s),E=function(u,F,e,r){var i,a;void 0===F&&(F="words"),void 0===e&&(e=!0);var s,l=u.style,D=u.children.flatMap(function u(i,o){return function(a){var l=[],D=V(i.align);if(Z.style=n({},i,{align:D,wordWrap:!1,dropShadowBlur:0,dropShadowDistance:0,dropShadowAngle:0,dropShadow:!1}),"string"==typeof a){var E=function(u,F){if("words"===F)return[u].flatMap(iu).filter(ru);if("characters"===F)return u.split("");var t=' Supported styles are "words" and "characters"',e=F.toLowerCase();throw 0===e.indexOf("char")?t='Did you mean "characters"?':0===e.indexOf("wor")&&(t='Did you mean "words"?'),new Error('Unsupported split style "'+F+'". '+t)}(a,F),c=E.map(function(u){var F,t,e;switch(i.textTransform){case"uppercase":Z.text=u.toUpperCase();break;case"lowercase":Z.text=u.toLowerCase();break;case"capitalize":Z.text=z(u);break;default:Z.text=u}var a=null!=(F=i.fontScaleWidth)?F:1,l=null!=(t=i.fontScaleHeight)?t:1,D=isNaN(a)||a<0?0:a,E=isNaN(l)||l<0?0:l;Z.scale.set(D,E),(s=n({},W(Z,!0))).ascent*=E,s.descent*=E,s.fontSize*=E;var c=$(Z),d=null!=(e=Z.style.strokeThickness)?e:0;d>0&&(s.descent+=d/2,s.ascent+=d/2,s.fontSize=s.ascent+s.descent);var B=function(u,F,t){var e=t.descent,n=t.ascent,r=e,i=n-r,o=F.width;return["underline","overline","lineThrough"].map(function(F){var t,a=u[F+"Color"],s=u[F+"Thickness"],l=null!=(t=u[F+"Offset"])?t:0;if(void 0!==a&&void 0!==s){var D=l;return"underline"===F?D+=n+e/2:"lineThrough"===F&&(D+=r+i/2),{color:a,bounds:{x:0,y:D,width:o,height:s}}}}).filter(function(u){return void 0!==u})}(i,c,s),C=function(u,F,t){var e,n,r,i;void 0===F&&(F={});var o=null!=(e=null==(n=u.fontFamily)?void 0:n.toString())?e:"",a=null!=(r=u.adjustBaseline)?r:0,s=null!=(i=F[o])?i:null,l=a;if("string"==typeof s){var D=s.split("%"),E=D.length>1,c=Number(D[0]);l+=E?t*(c/100):c}else l+=Number(s);return l}(i,r,s.ascent);s.ascent+=C;var h=i.letterSpacing;return h&&(c.width+=h),{content:u,style:i,tags:o,bounds:c,fontProperties:s,textDecorations:B}});l=l.concat(c)}else if(a instanceof t.Sprite){var d=a,B="icon"===i.imgDisplay;if(s=n({},W(Z,!0)),B){var C=Math.max(d.height,1);if(C>1&&1===d.scale.y&&d.scale.set(s.ascent/C*.8),e){var h=i.fontScaleWidth,f=i.fontScaleHeight,p=void 0===f?1:f;d.scale.x*=void 0===h?1:h,d.scale.y*=p}}var A=$(d),g=i.letterSpacing;g&&B&&(A.width+=g),l.push({content:d,style:i,tags:o,bounds:A,fontProperties:s,textDecorations:void 0})}else{var v=a.children,y=a.style,w=a.tags;if(void 0===y)throw new Error("Expected to find a 'style' property on "+a);l=l.concat(v.flatMap(u(y,w)))}return l}}(l,"")),E=l.wordWrap,c=l.wordWrapWidth,d=void 0!==c&&!1===isNaN(c)&&c>0,B=null!=(i=l.lineSpacing)?i:0,C=null!=(a=l.align)?a:"left";return function(u,F,t,e){var r,i={x:0,y:0},a=0,s=[],l=[],D=[],E=0;function c(){void 0!==s&&s.length>0&&l.push(s),s=[],a=0}function d(){D.push(l),l=[]}function B(u){d(),i.x=0,i.y=i.y+E,E=0,C(u)}function C(u){var F,e,n,r,i=null!=(F=null==u||null==(e=u.fontProperties)?void 0:e.fontSize)?F:0,o=null!=(n=null==u||null==(r=u.bounds)?void 0:r.height)?n:0;E=Math.max(E,i,t),!1===S(u)&&(E=Math.max(E,o))}function h(u){C(u),u.bounds.x=i.x,u.bounds.y=i.y,i.x+=u.bounds.width}function f(){s.forEach(h)}function p(u){return"block"===u.style.imgDisplay}function A(u){s.push(u),a+=u.bounds.width}for(var v=0;v<u.length;v++){var w=m(r=u[v]),b=S(r),x=y(r);(w||x)&&(f(),c()),A(r),C(r),w&&(f(),c()),(b||p(r)||i.x+a>F&&l.length>0)&&B(r)}s.length>0&&(f(),c()),l.length>0&&d();var T=function(u){for(var F,t=o(u);!(F=t()).done;)for(var e=F.value,n=e.length;n>=0;){var r=e[n-=1];if(_(r))break;for(var i,a=o(r);!(i=a()).done;){var s=i.value;s.bounds.width=0,s.bounds.height=Math.min(s.bounds.height,s.fontProperties.fontSize)}}return u}(D),k=function(u,F,t){var e,n;switch(u){case"left":n=e=uu;break;case"right":n=e=Fu(F);break;case"center":n=e=tu(F);break;case"justify":case"justify-left":e=eu(F),n=uu;break;case"justify-right":e=eu(F),n=Fu(F);break;case"justify-center":e=eu(F),n=tu(F);break;case"justify-all":n=e=eu(F);break;default:throw new Error("Unsupported alignment type "+u+'! Use one of : "left", "right", "center", "justify", "justify-left", "justify-right", justify-center", "justify-all"')}for(var r,i=o(t);!(r=i()).done;){for(var a,s,l=r.value,D=t.indexOf(l)===t.length-1||l.flat(2).filter(S).length>0,E=[],c=o(l);!(a=c()).done;){var d=Q(a.value);if(E.push(d),isNaN(d.x))throw new Error("wordBounds not correct")}s=D?n(E):e(E);for(var B=0;B<l.length;B++){var C=l[B];l[B]=q(s[B].x)(C)}}return t}(e,F,T),N=function(u,F,t){for(var e,r=g(),i=0,a=0,s=[],l=o(u);!(e=l()).done;){var D,E,c,d,B,C=e.value,h=[],f=nu(C),p=(null!=(D=null==(E=f.bounds)?void 0:E.height)?D:0)+a,A=(null!=(c=null==(d=f.fontProperties)?void 0:d.ascent)?c:0)+a,v=a;a=0,S(C[C.length-1][0])&&(a=null!=(B=f.style.paragraphSpacing)?B:0),y(f)&&(p+=f.fontProperties.descent,A=f.bounds.height),0===p?f=r:r=f;for(var w,b=o(C);!(w=b()).done;){for(var m,x=[],_=o(w.value);!(m=_()).done;){var T=m.value,k=T.bounds,N=T.fontProperties,j=T.style,O=k.height,M=n({},k),I=j.valign,P=N.ascent;if(y(T)&&(P=T.bounds.height),S(T)){var z=n({},T);z.bounds.y=i+A-P,x.push(z)}else{var U=i;switch(I){case"bottom":U+=p-O;break;case"middle":U+=(p+v-O)/2;break;case"top":U+=v;break;default:U+=A-P}M.y=U;var W=n({},T,{bounds:M});x.push(W)}}h.push(x)}i+=p+F,s.push(h)}return s}(k,t);return N}(D,E&&d?c:Number.POSITIVE_INFINITY,B,C)}(D,r,i,this.options.adjustFontBaseline);return this._tokens=E,this._needsDraw=!0,this.drawIfShould(u),this.options.debugConsole&&console.log(this.toDebugString()),this._needsUpdate=!1,E},c.drawIfShould=function(u){return(!1===u||void 0===u&&!1===this.options.skipDraw)&&(this.draw(),!0)},c.draw=function(){var u=this;if(this.resetChildren(),null===this.textContainer||null===this.spriteContainer)throw new Error("Somehow the textContainer or spriteContainer is null. This shouldn't be possible. Perhaps you've destroyed this object?");var F,t=this.textContainer,e=this.spriteContainer,n=this.options.drawWhitespace,r=n?this.tokensFlat:this.tokensFlat.filter(_),i=!1;r.forEach(function(n){if(b(n)&&(F=u.createTextFieldForToken(n),t.addChild(F),u.textFields.push(F),n.textDecorations&&n.textDecorations.length>0)){for(var r,a=o(n.textDecorations);!(r=a()).done;){var s=u.createDrawingForTextDecoration(r.value);F.addChild(s),u._decorations.push(s)}i=!0}y(n)&&(u.sprites.push(F=n.content),e.addChild(F));var l=n.bounds;F.x=l.x,F.y=l.y}),!1===n&&i&&this.logWarning("text-decoration-and-whitespace","Text decorations, such as underlines, will not appear under whitespace unless the `drawWhitespace` option is set to `true`."),this.options.debug&&this.drawDebug(),this._needsDraw=!1},c.createDrawingForTextDecoration=function(u){var F=u.bounds,e=u.color,n=new t.Graphics;return"string"==typeof e&&(0===e.indexOf("#")?(e="0x"+e.substring(1),e=parseInt(e,16)):this.logWarning("invalid-color","Sorry, at this point, only hex colors are supported for textDecorations like underlines. Please use either a hex number like 0x66FF33 or a string like '#66FF33'")),n.beginFill(e).drawRect(F.x,F.y,F.width,F.height).endFill(),n},c.createTextFieldForToken=function(u){var F=u.style.textTransform,e=u.content;switch((void 0===F?"":F).toLowerCase()){case"lowercase":e=e.toLowerCase();break;case"uppercase":e=e.toUpperCase();break;case"capitalize":e=z(e)}var r=V(u.style.align),i=n({},u.style,{align:r}),o=new t.Text(e,i),a=u.style,s=a.fontScaleWidth,l=void 0===s?1:s,D=a.fontScaleHeight,E=void 0===D?1:D,c=l=isNaN(l)||l<0?0:l,d=E=isNaN(E)||E<0?0:E,B=Math.max(l,E);if(B>1){var C;B===E?(c/=B,d=1):(d/=B,c=1);var h=null!=(C=o.style.fontSize)?C:0,f=("string"==typeof h?function(u){var F=u.split(/(%|pt|px|r?em)/),t=F[1],e=parseFloat(F[0]);switch(t){case"%":return.16*e;case"em":case"rem":return 16*e;case"pt":return 1.3281472327365*e;default:return e}}(h):h)*B;o.style.fontSize=f}return o.scale.set(c,d),o},c.toDebugString=function(){var u=this.tokens,F=this.untaggedText+"\n=====\n",t="\n    ";return void 0!==u&&(F+=u.map(function(u,F){return u.map(function(u,e){return u.map(function(u,n){var r="";b(u)?r=S(u)?"\\n":'"'+u.content+'"':y(u)&&(r="[Image]");var i="\n"+r+": ("+F+"/"+e+"/"+n+")";return i+=t+"tags: "+(0===u.tags.length?"<none>":u.tags.split(",").map(function(u){return"<"+u+">"}).join(", ")),i+=t+"style: "+Object.entries(u.style).map(function(u){return u.join(":")}).join("; "),(i+=t+"size: x:"+u.bounds.x+" y:"+u.bounds.y+" width:"+u.bounds.width+" height:"+u.bounds.height+" bottom:"+(u.bounds.height+u.bounds.y)+" right:"+(u.bounds.x+u.bounds.width))+t+"font: fontSize:"+u.fontProperties.fontSize+" ascent:"+u.fontProperties.ascent+" descent:"+u.fontProperties.descent}).join("\n")})})),F},c.drawDebug=function(){var u=this.tokens;if(this._debugGraphics=new t.Graphics,null===this.debugContainer)throw new Error("Somehow the debug container is null. This shouldn't be possible. Perhaps you've destroyed this object?");this.debugContainer.addChild(this._debugGraphics);var F=this._debugGraphics;function e(u,F){var e=new t.Text(u,su);return e.x=F.x+1,e.y=F.y+1,e}F.clear();for(var n=0;n<u.length;n++){var r=u[n],i=Q(r);if(this.defaultStyle.wordWrap){var a,s=null!=(a=this.defaultStyle.wordWrapWidth)?a:this.width;F.endFill().lineStyle(.5,au,.2).drawRect(0,i.y,s,i.height).endFill()}for(var l=0;l<r.length;l++)for(var D,E=o(r[l]);!(D=E()).done;){var c=D.value,d=y(c),B=c.bounds,C=B.x,h=B.y,f=B.width,p=h+(d?c.bounds.height:c.fontProperties.ascent),A=c.bounds.height;d&&(A+=c.fontProperties.descent),m(c)&&!1===this.options.drawWhitespace?F.lineStyle(1,11184810,1).beginFill(13421772,.2):F.lineStyle(1,16764108,1).beginFill(15658734,.2),S(c)?this.debugContainer.addChild(e("â†©ï¸Ž",{x:C,y:h+10})):F.lineStyle(.5,au,.2).drawRect(C,h,f,A).endFill().lineStyle(1,16777113,1).beginFill().drawRect(C,p,f,1).endFill(),b(c)&&this.debugContainer.addChild(e(""+c.tags,{x:C,y:h}))}}},s=C,E=[{key:"defaultStyles",get:function(){return lu}},{key:"defaultOptions",get:function(){return ou}}],(D=[{key:"options",get:function(){return this._options}},{key:"needsUpdate",get:function(){return this._needsUpdate}},{key:"needsDraw",get:function(){return this._needsDraw}},{key:"tokensFlat",get:function(){return this._tokens.flat(3)}},{key:"tokens",get:function(){return this._tokens}},{key:"text",get:function(){return this._text},set:function(u){this.setText(u)}},{key:"untaggedText",get:function(){return this.text.replace(j(),"")}},{key:"tagStyles",get:function(){return this._tagStyles},set:function(u){this.setTagStyles(u)}},{key:"defaultStyle",get:function(){var u;return null==(u=this.tagStyles)?void 0:u.default},set:function(u){this.setDefaultStyle(u)}},{key:"textFields",get:function(){return this._textFields}},{key:"sprites",get:function(){return this._sprites}},{key:"decorations",get:function(){return this._decorations}},{key:"spriteTemplates",get:function(){return this._spriteTemplates}},{key:"textContainer",get:function(){return this._textContainer}},{key:"decorationContainer",get:function(){return this._decorationContainer}},{key:"spriteContainer",get:function(){return this._spriteContainer}},{key:"debugContainer",get:function(){return this._debugContainer}}])&&e(s.prototype,D),E&&e(s,E),Object.defineProperty(s,"prototype",{writable:!1}),C}(t.Sprite);return Eu});
//# sourceMappingURL=pixi-tagged-text.umd.js.map
